{"version":3,"file":"static/chunks/8809.dbab8734d49b646a.js","mappings":"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","sources":["webpack://_N_E/./components/google-maps.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useRef, useState } from \"react\";\n\ninterface GoogleMapsProps {\n  className?: string;\n}\n\nexport default function GoogleMaps({ className = \"\" }: GoogleMapsProps) {\n  const mapContainerRef = useRef<HTMLDivElement>(null);\n  const mapRef = useRef<any>(null);\n  const [mapLoaded, setMapLoaded] = useState(false);\n  const [mapError, setMapError] = useState(false);\n\n  // Business name to search for Google Business Profile\n  const businessName = \"Matbud Systemy Ppo≈º\";\n  const businessFullName = \"Matbud Systemy Ppo≈º. Sp. z o.o.\";\n  \n  // Coordinates for S≈Çocin 36F, 62-065 Grodzisk Wielkopolski, Polska (fallback)\n  const latitude = 52.2276;\n  const longitude = 16.3656;\n  const address = \"S≈Çocin 36F, 62-065 Grodzisk Wielkopolski, Polska\";\n  \n  // Direct link to Google Maps - search by business name to show Business Profile\n  const googleMapsUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(businessName)}`;\n  \n  // Get API key from environment\n  const apiKey = process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY || \"\";\n  \n  // Google Maps embed URL - search by business name to show Business Profile\n  const encodedBusinessName = encodeURIComponent(businessName);\n  const iframeUrl = `https://www.google.com/maps?q=${encodedBusinessName}&output=embed&hl=pl&z=15`;\n\n  const initializeMap = () => {\n      if (!mapContainerRef.current || !window.google?.maps) {\n        return;\n      }\n\n      try {\n        const map = new window.google.maps.Map(mapContainerRef.current, {\n          center: { lat: latitude, lng: longitude },\n          zoom: 15,\n          mapTypeControl: true,\n          streetViewControl: true,\n          fullscreenControl: true,\n          zoomControl: true,\n        });\n\n        // Use Places API to find the business and show Google Business Profile\n        const service = new window.google.maps.places.PlacesService(map);\n        \n        const request = {\n          query: businessName,\n          fields: ['name', 'formatted_address', 'place_id', 'geometry', 'rating', 'user_ratings_total', 'opening_hours', 'website', 'formatted_phone_number'],\n        };\n\n        service.findPlaceFromQuery(request, (results, status) => {\n          if (status === window.google.maps.places.PlacesServiceStatus.OK && results && results[0]) {\n            const place = results[0];\n            \n            // Center map on the business location\n            if (place.geometry?.location) {\n              map.setCenter(place.geometry.location);\n              \n              // Add marker at business location\n              const marker = new window.google.maps.Marker({\n                position: place.geometry.location,\n                map: map,\n                title: place.name || businessFullName,\n              });\n\n              // Create info window with business details\n              let content = `\n                <div style=\"padding: 12px; min-width: 200px;\">\n                  <strong style=\"font-size: 16px;\">${place.name || businessFullName}</strong><br>\n              `;\n              \n              if (place.formatted_address) {\n                content += `<div style=\"margin-top: 8px; color: #666;\">${place.formatted_address}</div>`;\n              }\n              \n              if (place.rating) {\n                content += `<div style=\"margin-top: 8px;\">\n                  <span style=\"color: #f57c00;\">‚òÖ</span> ${place.rating}`;\n                if (place.user_ratings_total) {\n                  content += ` (${place.user_ratings_total} opinii)`;\n                }\n                content += `</div>`;\n              }\n              \n              if (place.formatted_phone_number) {\n                content += `<div style=\"margin-top: 8px;\">üìû ${place.formatted_phone_number}</div>`;\n              }\n              \n              if (place.website) {\n                content += `<div style=\"margin-top: 8px;\"><a href=\"${place.website}\" target=\"_blank\" style=\"color: #1976d2;\">Strona internetowa</a></div>`;\n              }\n              \n              content += `</div>`;\n\n              const infoWindow = new window.google.maps.InfoWindow({\n                content: content,\n              });\n\n              marker.addListener(\"click\", () => {\n                infoWindow.open(map, marker);\n              });\n\n              // Open info window by default\n              infoWindow.open(map, marker);\n            }\n          } else {\n            // Fallback: if Places API doesn't find the business, use coordinates\n            const marker = new window.google.maps.Marker({\n              position: { lat: latitude, lng: longitude },\n              map: map,\n              title: businessFullName,\n            });\n\n            const infoWindow = new window.google.maps.InfoWindow({\n              content: `\n                <div style=\"padding: 8px;\">\n                  <strong>${businessFullName}</strong><br>\n                  ${address}\n                </div>\n              `,\n            });\n\n            marker.addListener(\"click\", () => {\n              infoWindow.open(map, marker);\n            });\n\n            infoWindow.open(map, marker);\n          }\n        });\n\n        mapRef.current = map;\n        setMapLoaded(true);\n      } catch (error) {\n        console.error(\"Error initializing Google Maps:\", error);\n        setMapError(true);\n      }\n    };\n\n  useEffect(() => {\n    if (!mapContainerRef.current || mapRef.current || !apiKey) {\n      if (!apiKey) {\n        // No API key - will use iframe fallback\n        setMapError(true);\n      }\n      return;\n    }\n\n    const loadGoogleMaps = () => {\n      // Check if Google Maps is already loaded\n      if (window.google && window.google.maps) {\n        initializeMap();\n        return;\n      }\n\n      // Check if script is already being loaded\n      if (document.querySelector('script[src*=\"maps.googleapis.com\"]')) {\n        // Wait for it to load\n        const checkInterval = setInterval(() => {\n          if (window.google && window.google.maps) {\n            clearInterval(checkInterval);\n            initializeMap();\n          }\n        }, 100);\n        return;\n      }\n\n      // Load Google Maps JavaScript API with Places library\n      const script = document.createElement(\"script\");\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&loading=async&libraries=places&callback=__initGoogleMaps&language=pl`;\n      script.async = true;\n      script.defer = true;\n      script.loading = 'lazy' as any;\n      \n      // Set up global callback for Google Maps\n      (window as any).__initGoogleMaps = () => {\n        if (window.google && window.google.maps && mapContainerRef.current) {\n          initializeMap();\n        }\n      };\n      \n      script.onerror = () => {\n        console.error(\"Failed to load Google Maps\");\n        setMapError(true);\n        delete (window as any).__initGoogleMaps;\n      };\n      \n      document.head.appendChild(script);\n    };\n\n    // Use Intersection Observer to lazy load map only when visible\n    const observer = new IntersectionObserver(\n      (entries) => {\n        if (entries[0].isIntersecting) {\n          loadGoogleMaps();\n          observer.disconnect();\n        }\n      },\n      { rootMargin: '50px' } // Start loading 50px before map is visible\n    );\n\n    if (mapContainerRef.current) {\n      observer.observe(mapContainerRef.current);\n    }\n\n    return () => {\n      observer.disconnect();\n      if ((window as any).__initGoogleMaps) {\n        delete (window as any).__initGoogleMaps;\n      }\n      if (mapRef.current) {\n        mapRef.current = null;\n      }\n    };\n  }, [apiKey]);\n\n  // If no API key or error, use iframe (may show CORS warnings but map should work)\n  if (mapError || !apiKey) {\n    return (\n      <div className={`bg-card rounded-lg shadow-sm overflow-hidden h-full flex flex-col ${className}`}>\n        <iframe\n          src={iframeUrl}\n          width=\"100%\"\n          height=\"100%\"\n          style={{ border: 0, minHeight: \"450px\" }}\n          allowFullScreen\n          loading=\"lazy\"\n          referrerPolicy=\"no-referrer-when-downgrade\"\n          className=\"w-full flex-1\"\n          title=\"Matbud Systemy Ppo≈º. - Lokalizacja\"\n        />\n      </div>\n    );\n  }\n\n  // Interactive Google Maps using JavaScript API (no CORS issues)\n  return (\n    <div className={`bg-card rounded-lg shadow-sm overflow-hidden h-full flex flex-col ${className}`}>\n      <div\n        ref={mapContainerRef}\n        className=\"w-full flex-1\"\n        style={{ minHeight: \"450px\", zIndex: 0 }}\n      />\n      {!mapLoaded && (\n        <div className=\"absolute inset-0 flex items-center justify-center bg-muted/50\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2\"></div>\n            <p className=\"text-sm text-muted-foreground\">≈Åadowanie mapy...</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Extend Window interface for Google Maps\ndeclare global {\n  interface Window {\n    google: {\n      maps: {\n        Map: new (element: HTMLElement, options: any) => any;\n        Marker: new (options: any) => any;\n        InfoWindow: new (options: any) => any;\n        places: {\n          PlacesService: new (map: any) => {\n            findPlaceFromQuery: (request: any, callback: (results: any[] | null, status: any) => void) => void;\n          };\n          PlacesServiceStatus: {\n            OK: string;\n          };\n        };\n      };\n    };\n  }\n}\n"],"names":["GoogleMaps","className","mapContainerRef","useRef","mapRef","useState","mapLoaded","setMapLoaded","mapError","setMapError","businessName","businessFullName","apiKey","process","env","NEXT_PUBLIC_GOOGLE_MAPS_API_KEY","encodedBusinessName","encodeURIComponent","initializeMap","window","current","google","maps","map","Map","center","lat","latitude","lng","longitude","zoom","mapTypeControl","streetViewControl","fullscreenControl","zoomControl","places","PlacesService","findPlaceFromQuery","query","fields","results","status","PlacesServiceStatus","OK","place","geometry","location","setCenter","marker","Marker","position","title","name","content","formatted_address","rating","user_ratings_total","formatted_phone_number","website","infoWindow","InfoWindow","addListener","open","address","error","useEffect","loadGoogleMaps","document","querySelector","checkInterval","setInterval","clearInterval","script","createElement","src","async","defer","loading","__initGoogleMaps","onerror","head","appendChild","observer","IntersectionObserver","entries","isIntersecting","disconnect","rootMargin","observe","div","iframe","iframeUrl","width","height","style","border","minHeight","allowFullScreen","referrerPolicy","ref","zIndex","p"],"sourceRoot":"","ignoreList":[]}
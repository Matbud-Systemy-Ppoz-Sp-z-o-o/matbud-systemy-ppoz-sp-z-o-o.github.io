(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{8809:(e,o,n)=>{"use strict";n.d(o,{default:()=>a});var t=n(5155),r=n(2115),l=n(7358);function a(e){let{className:o=""}=e,n=(0,r.useRef)(null),a=(0,r.useRef)(null),[i,s]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),p="Matbud Systemy Ppoż",g="Matbud Systemy Ppoż. Sp. z o.o.";encodeURIComponent(p);let m=l.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY||"",u=encodeURIComponent(p),w=()=>{var e;if(n.current&&(null==(e=window.google)?void 0:e.maps))try{let e=new window.google.maps.Map(n.current,{center:{lat:52.2276,lng:16.3656},zoom:15,mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0,zoomControl:!0});new window.google.maps.places.PlacesService(e).findPlaceFromQuery({query:p,fields:["name","formatted_address","place_id","geometry","rating","user_ratings_total","opening_hours","website","formatted_phone_number"]},(o,n)=>{if(n===window.google.maps.places.PlacesServiceStatus.OK&&o&&o[0]){var t;let n=o[0];if(null==(t=n.geometry)?void 0:t.location){e.setCenter(n.geometry.location);let o=new window.google.maps.Marker({position:n.geometry.location,map:e,title:n.name||g}),t='\n                <div style="padding: 12px; min-width: 200px;">\n                  <strong style="font-size: 16px;">'.concat(n.name||g,"</strong><br>\n              ");n.formatted_address&&(t+='<div style="margin-top: 8px; color: #666;">'.concat(n.formatted_address,"</div>")),n.rating&&(t+='<div style="margin-top: 8px;">\n                  <span style="color: #f57c00;">★</span> '.concat(n.rating),n.user_ratings_total&&(t+=" (".concat(n.user_ratings_total," opinii)")),t+="</div>"),n.formatted_phone_number&&(t+='<div style="margin-top: 8px;">\uD83D\uDCDE '.concat(n.formatted_phone_number,"</div>")),n.website&&(t+='<div style="margin-top: 8px;"><a href="'.concat(n.website,'" target="_blank" style="color: #1976d2;">Strona internetowa</a></div>')),t+="</div>";let r=new window.google.maps.InfoWindow({content:t});o.addListener("click",()=>{r.open(e,o)}),r.open(e,o)}}else{let o=new window.google.maps.Marker({position:{lat:52.2276,lng:16.3656},map:e,title:g}),n=new window.google.maps.InfoWindow({content:'\n                <div style="padding: 8px;">\n                  <strong>'.concat(g,"</strong><br>\n                  ").concat("Słocin 36F, 62-065 Grodzisk Wielkopolski, Polska","\n                </div>\n              ")});o.addListener("click",()=>{n.open(e,o)}),n.open(e,o)}}),a.current=e,s(!0)}catch(e){console.error("Error initializing Google Maps:",e),c(!0)}};return((0,r.useEffect)(()=>{if(!n.current||a.current||!m){m||c(!0);return}let e=new IntersectionObserver(o=>{o[0].isIntersecting&&((()=>{if(window.google&&window.google.maps)return w();if(document.querySelector('script[src*="maps.googleapis.com"]')){let e=setInterval(()=>{window.google&&window.google.maps&&(clearInterval(e),w())},100);return}let e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat(m,"&loading=async&libraries=places&callback=__initGoogleMaps"),e.async=!0,e.defer=!0,window.__initGoogleMaps=()=>{window.google&&window.google.maps&&n.current&&w()},e.onerror=()=>{console.error("Failed to load Google Maps"),c(!0),delete window.__initGoogleMaps},document.head.appendChild(e)})(),e.disconnect())},{rootMargin:"50px"});return n.current&&e.observe(n.current),()=>{e.disconnect(),window.__initGoogleMaps&&delete window.__initGoogleMaps,a.current&&(a.current=null)}},[m]),d||!m)?(0,t.jsx)("div",{className:"bg-card rounded-lg shadow-sm overflow-hidden h-full flex flex-col ".concat(o),children:(0,t.jsx)("iframe",{src:"https://www.google.com/maps?q=".concat(u,"&output=embed&hl=pl&z=15"),width:"100%",height:"100%",style:{border:0,minHeight:"450px"},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"w-full flex-1",title:"Matbud Systemy Ppoż. - Lokalizacja"})}):(0,t.jsxs)("div",{className:"bg-card rounded-lg shadow-sm overflow-hidden h-full flex flex-col ".concat(o),children:[(0,t.jsx)("div",{ref:n,className:"w-full flex-1",style:{minHeight:"450px",zIndex:0}}),!i&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ładowanie mapy..."})]})})]})}},9617:(e,o,n)=>{Promise.resolve().then(n.bind(n,8809)),Promise.resolve().then(n.t.bind(n,2619,23)),Promise.resolve().then(n.t.bind(n,1356,23))}},e=>{e.O(0,[619,356,441,255,358],()=>e(e.s=9617)),_N_E=e.O()}]);
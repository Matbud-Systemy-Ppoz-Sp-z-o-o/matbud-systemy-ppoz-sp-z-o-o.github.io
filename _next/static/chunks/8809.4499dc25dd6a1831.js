"use strict";(globalThis.webpackChunk_N_E=globalThis.webpackChunk_N_E||[]).push([[8809],{68809:(e,n,o)=>{o.r(n),o.d(n,{default:()=>l});var t=o(22043),r=o(95155),a=o(12115),i=o(87358);function l(e){var n=e.className,o=void 0===n?"":n,l=(0,a.useRef)(null),s=(0,a.useRef)(null),c=(0,t._)((0,a.useState)(!1),2),d=c[0],p=c[1],u=(0,t._)((0,a.useState)(!1),2),g=u[0],m=u[1],w="Matbud Systemy Ppoż",f="Matbud Systemy Ppoż. Sp. z o.o.";encodeURIComponent(w);var v=i.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY||"",_=encodeURIComponent(w),h=function(){var e;l.current&&(null==(e=window.google)?void 0:e.maps)&&requestAnimationFrame(function(){if(l.current)try{var e=new window.google.maps.Map(l.current,{center:{lat:52.2276,lng:16.3656},zoom:15,mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0,zoomControl:!0});new window.google.maps.places.PlacesService(e).findPlaceFromQuery({query:w,fields:["name","formatted_address","place_id","geometry","rating","user_ratings_total","opening_hours","website","formatted_phone_number"]},function(n,o){if(o===window.google.maps.places.PlacesServiceStatus.OK&&n&&n[0]){var t,r=n[0];if(null==(t=r.geometry)?void 0:t.location){e.setCenter(r.geometry.location);var a=new window.google.maps.Marker({position:r.geometry.location,map:e,title:r.name||f}),i='\n                <div style="padding: 12px; min-width: 200px;">\n                  <strong style="font-size: 16px;">'.concat(r.name||f,"</strong><br>\n              ");r.formatted_address&&(i+='<div style="margin-top: 8px; color: #666;">'.concat(r.formatted_address,"</div>")),r.rating&&(i+='<div style="margin-top: 8px;">\n                  <span style="color: #f57c00;">★</span> '.concat(r.rating),r.user_ratings_total&&(i+=" (".concat(r.user_ratings_total," opinii)")),i+="</div>"),r.formatted_phone_number&&(i+='<div style="margin-top: 8px;">\uD83D\uDCDE '.concat(r.formatted_phone_number,"</div>")),r.website&&(i+='<div style="margin-top: 8px;"><a href="'.concat(r.website,'" target="_blank" style="color: #1976d2;">Strona internetowa</a></div>')),i+="</div>";var l=new window.google.maps.InfoWindow({content:i});a.addListener("click",function(){l.open(e,a)}),l.open(e,a)}}else{var s=new window.google.maps.Marker({position:{lat:52.2276,lng:16.3656},map:e,title:f}),c=new window.google.maps.InfoWindow({content:'\n                <div style="padding: 8px;">\n                  <strong>'.concat(f,"</strong><br>\n                  ").concat("Słocin 36F, 62-065 Grodzisk Wielkopolski, Polska","\n                </div>\n              ")});s.addListener("click",function(){c.open(e,s)}),c.open(e,s)}}),s.current=e,p(!0)}catch(e){m(!0)}})};return((0,a.useEffect)(function(){if(!l.current||s.current||!v){v||m(!0);return}var e=function(){if(window.google&&window.google.maps)return void h();if(document.querySelector('script[src*="maps.googleapis.com"]')){var e=setInterval(function(){window.google&&window.google.maps&&(clearInterval(e),h())},100);return}var n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?key=".concat(v,"&loading=async&libraries=places&callback=__initGoogleMaps&language=pl"),n.async=!0,n.defer=!0,n.loading="lazy",window.__initGoogleMaps=function(){window.google&&window.google.maps&&l.current&&h()},n.onerror=function(){m(!0),delete window.__initGoogleMaps},document.head.appendChild(n)},n=new IntersectionObserver(function(o){o[0].isIntersecting&&(e(),n.disconnect())},{rootMargin:"50px"});return l.current&&n.observe(l.current),function(){n.disconnect(),window.__initGoogleMaps&&delete window.__initGoogleMaps,s.current&&(s.current=null)}},[v]),g||!v)?(0,r.jsx)("div",{className:"bg-card rounded-lg shadow-sm overflow-hidden h-full flex flex-col ".concat(o),children:(0,r.jsx)("iframe",{src:"https://www.google.com/maps?q=".concat(_,"&output=embed&hl=pl&z=15"),width:"100%",height:"100%",style:{border:0,minHeight:"450px"},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"w-full flex-1",title:"Matbud Systemy Ppoż. - Lokalizacja"})}):(0,r.jsxs)("div",{className:"bg-card rounded-lg shadow-sm overflow-hidden h-full flex flex-col ".concat(o),children:[(0,r.jsx)("div",{ref:l,className:"w-full flex-1",style:{minHeight:"450px",zIndex:0}}),!d&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ładowanie mapy..."})]})})]})}}}]);
//# sourceMappingURL=8809.4499dc25dd6a1831.js.map
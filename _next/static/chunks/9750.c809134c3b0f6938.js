"use strict";(globalThis.webpackChunk_N_E=globalThis.webpackChunk_N_E||[]).push([[9750],{22455:(t,e,s)=>{var i;s.d(e,{$:()=>i,C:()=>a}),!function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"}(i||(i={}));let r={type:i.Marker};class a{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,e){let s=[],r=e.length,a=this.treeAdapter.getTagName(t),n=this.treeAdapter.getNamespaceURI(t);for(let t=0;t<this.entries.length;t++){let e=this.entries[t];if(e.type===i.Marker)break;let{element:T}=e;if(this.treeAdapter.getTagName(T)===a&&this.treeAdapter.getNamespaceURI(T)===n){let e=this.treeAdapter.getAttrList(T);e.length===r&&s.push({idx:t,attrs:e})}}return s}_ensureNoahArkCondition(t){if(this.entries.length<3)return;let e=this.treeAdapter.getAttrList(t),s=this._getNoahArkConditionCandidates(t,e);if(s.length<3)return;let i=new Map(e.map(t=>[t.name,t.value])),r=0;for(let t=0;t<s.length;t++){let e=s[t];e.attrs.every(t=>i.get(t.name)===t.value)&&(r+=1)>=3&&this.entries.splice(e.idx,1)}}insertMarker(){this.entries.unshift(r)}pushElement(t,e){this._ensureNoahArkCondition(t),this.entries.unshift({type:i.Element,element:t,token:e})}insertElementAfterBookmark(t,e){let s=this.entries.indexOf(this.bookmark);this.entries.splice(s,0,{type:i.Element,element:t,token:e})}removeEntry(t){let e=this.entries.indexOf(t);-1!==e&&this.entries.splice(e,1)}clearToLastMarker(){let t=this.entries.indexOf(r);-1===t?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){let e=this.entries.find(e=>e.type===i.Marker||this.treeAdapter.getTagName(e.element)===t);return e&&e.type===i.Element?e:null}getElementEntry(t){return this.entries.find(e=>e.type===i.Element&&e.element===t)}}},53246:(t,e,s)=>{s.d(e,{t:()=>_});var i=s(55569);let r=new Set([i.TAG_ID.DD,i.TAG_ID.DT,i.TAG_ID.LI,i.TAG_ID.OPTGROUP,i.TAG_ID.OPTION,i.TAG_ID.P,i.TAG_ID.RB,i.TAG_ID.RP,i.TAG_ID.RT,i.TAG_ID.RTC]),a=new Set([...r,i.TAG_ID.CAPTION,i.TAG_ID.COLGROUP,i.TAG_ID.TBODY,i.TAG_ID.TD,i.TAG_ID.TFOOT,i.TAG_ID.TH,i.TAG_ID.THEAD,i.TAG_ID.TR]),n=new Set([i.TAG_ID.APPLET,i.TAG_ID.CAPTION,i.TAG_ID.HTML,i.TAG_ID.MARQUEE,i.TAG_ID.OBJECT,i.TAG_ID.TABLE,i.TAG_ID.TD,i.TAG_ID.TEMPLATE,i.TAG_ID.TH]),T=new Set([...n,i.TAG_ID.OL,i.TAG_ID.UL]),h=new Set([...n,i.TAG_ID.BUTTON]),o=new Set([i.TAG_ID.ANNOTATION_XML,i.TAG_ID.MI,i.TAG_ID.MN,i.TAG_ID.MO,i.TAG_ID.MS,i.TAG_ID.MTEXT]),A=new Set([i.TAG_ID.DESC,i.TAG_ID.FOREIGN_OBJECT,i.TAG_ID.TITLE]),p=new Set([i.TAG_ID.TR,i.TAG_ID.TEMPLATE,i.TAG_ID.HTML]),l=new Set([i.TAG_ID.TBODY,i.TAG_ID.TFOOT,i.TAG_ID.THEAD,i.TAG_ID.TEMPLATE,i.TAG_ID.HTML]),I=new Set([i.TAG_ID.TABLE,i.TAG_ID.TEMPLATE,i.TAG_ID.HTML]),c=new Set([i.TAG_ID.TD,i.TAG_ID.TH]);class _{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,e,s){this.treeAdapter=e,this.handler=s,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=i.TAG_ID.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===i.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===i.NS.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,e){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=e,this.currentTagId=e,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,e,!0)}pop(){let t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,e){let s=this._indexOf(t);this.items[s]=e,s===this.stackTop&&(this.current=e)}insertAfter(t,e,s){let i=this._indexOf(t)+1;this.items.splice(i,0,e),this.tagIDs.splice(i,0,s),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&void 0!==this.currentTagId&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let e=this.stackTop+1;do e=this.tagIDs.lastIndexOf(t,e-1);while(e>0&&this.treeAdapter.getNamespaceURI(this.items[e])!==i.NS.HTML);this.shortenToLength(Math.max(e,0))}shortenToLength(t){for(;this.stackTop>=t;){let e=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,this.stackTop<t)}}popUntilElementPopped(t){let e=this._indexOf(t);this.shortenToLength(Math.max(e,0))}popUntilPopped(t,e){let s=this._indexOfTagNames(t,e);this.shortenToLength(Math.max(s,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(i.NUMBERED_HEADERS,i.NS.HTML)}popUntilTableCellPopped(){this.popUntilPopped(c,i.NS.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,e){for(let s=this.stackTop;s>=0;s--)if(t.has(this.tagIDs[s])&&this.treeAdapter.getNamespaceURI(this.items[s])===e)return s;return -1}clearBackTo(t,e){let s=this._indexOfTagNames(t,e);this.shortenToLength(s+1)}clearBackToTableContext(){this.clearBackTo(I,i.NS.HTML)}clearBackToTableBodyContext(){this.clearBackTo(l,i.NS.HTML)}clearBackToTableRowContext(){this.clearBackTo(p,i.NS.HTML)}remove(t){let e=this._indexOf(t);e>=0&&(e===this.stackTop?this.pop():(this.items.splice(e,1),this.tagIDs.splice(e,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===i.TAG_ID.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){let e=this._indexOf(t)-1;return e>=0?this.items[e]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===i.TAG_ID.HTML}hasInDynamicScope(t,e){for(let s=this.stackTop;s>=0;s--){let r=this.tagIDs[s];switch(this.treeAdapter.getNamespaceURI(this.items[s])){case i.NS.HTML:if(r===t)return!0;if(e.has(r))return!1;break;case i.NS.SVG:if(A.has(r))return!1;break;case i.NS.MATHML:if(o.has(r))return!1}}return!0}hasInScope(t){return this.hasInDynamicScope(t,n)}hasInListItemScope(t){return this.hasInDynamicScope(t,T)}hasInButtonScope(t){return this.hasInDynamicScope(t,h)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){let e=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case i.NS.HTML:if(i.NUMBERED_HEADERS.has(e))return!0;if(n.has(e))return!1;break;case i.NS.SVG:if(A.has(e))return!1;break;case i.NS.MATHML:if(o.has(e))return!1}}return!0}hasInTableScope(t){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===i.NS.HTML)switch(this.tagIDs[e]){case t:return!0;case i.TAG_ID.TABLE:case i.TAG_ID.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===i.NS.HTML)switch(this.tagIDs[t]){case i.TAG_ID.TBODY:case i.TAG_ID.THEAD:case i.TAG_ID.TFOOT:return!0;case i.TAG_ID.TABLE:case i.TAG_ID.HTML:return!1}return!0}hasInSelectScope(t){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===i.NS.HTML)switch(this.tagIDs[e]){case t:return!0;case i.TAG_ID.OPTION:case i.TAG_ID.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;void 0!==this.currentTagId&&r.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;void 0!==this.currentTagId&&a.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;void 0!==this.currentTagId&&this.currentTagId!==t&&a.has(this.currentTagId);)this.pop()}}},81929:(t,e,s)=>{var i=s(55569);s(20446);var r=s(24571);i.TAG_NAMES.AREA,i.TAG_NAMES.BASE,i.TAG_NAMES.BASEFONT,i.TAG_NAMES.BGSOUND,i.TAG_NAMES.BR,i.TAG_NAMES.COL,i.TAG_NAMES.EMBED,i.TAG_NAMES.FRAME,i.TAG_NAMES.HR,i.TAG_NAMES.IMG,i.TAG_NAMES.INPUT,i.TAG_NAMES.KEYGEN,i.TAG_NAMES.LINK,i.TAG_NAMES.META,i.TAG_NAMES.PARAM,i.TAG_NAMES.SOURCE,i.TAG_NAMES.TRACK,i.TAG_NAMES.WBR,r.j}}]);
//# sourceMappingURL=9750.c809134c3b0f6938.js.map